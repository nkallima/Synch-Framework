<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The Synch framework: config.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo_synch.png"/></td>
  <td id="projectalign">
   <div id="projectname">The Synch framework<span id="projectnumber">&#160;v3.1.3</span>
   </div>
   <div id="projectbrief">An open-source framework for concurrent data-structures and benchmarks</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bba3cddd56565a95b77b098fd409d0ab.html">libconcurrent</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle"><div class="title">config.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This file provides important parameters and constants for the benchmarks and the library.  
<a href="#details">More...</a></p>

<p><a href="config_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a146443f3f1bbeaf5b7c4a57cc55967f3" id="r_a146443f3f1bbeaf5b7c4a57cc55967f3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8h.html#a146443f3f1bbeaf5b7c4a57cc55967f3">SYNCH_MAX_WORK</a>&#160;&#160;&#160;64</td></tr>
<tr class="memdesc:a146443f3f1bbeaf5b7c4a57cc55967f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the default value of maximum local work that each thread executes between two consecutive of the benchmarked operation. A zero value means there is no work between two consecutive calls. Large values usually reduce system's contention, i.e. threads perform operations less frequently. In contrast, small values (but not zero) increase system's contention. Please avoid to set this value equal to zero, since some algorithms may produce unrealistically high performance (i.e. long runs and unrealistic low numbers of cache misses). Default value is 64.  <br /></td></tr>
<tr class="separator:a146443f3f1bbeaf5b7c4a57cc55967f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeda151d3554f5dfd7089119511e946c" id="r_adeda151d3554f5dfd7089119511e946c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8h.html#adeda151d3554f5dfd7089119511e946c">SYNCH_RUNS</a>&#160;&#160;&#160;1000000</td></tr>
<tr class="memdesc:adeda151d3554f5dfd7089119511e946c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the default total number of the executed operations. Notice that benchmarks for stacks and queues execute SYNCH_RUNS pairs of operations (i.e. pairs of push/pops or pairs of enqueues/dequeues). Default value is 1000000.  <br /></td></tr>
<tr class="separator:adeda151d3554f5dfd7089119511e946c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9857328827ae1957544a254406d6c557" id="r_a9857328827ae1957544a254406d6c557"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8h.html#a9857328827ae1957544a254406d6c557">Object</a>&#160;&#160;&#160;int64_t</td></tr>
<tr class="memdesc:a9857328827ae1957544a254406d6c557"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define DEBUG, in case you want to debug some parts of the code or to get some useful performance statistics. Note that the validation.sh script enables this definition by default. In some cases, this may introduces some performance loses. Thus, in case you want to perform benchmarking keeps this undefined. By default, this flag is disabled.  <br /></td></tr>
<tr class="separator:a9857328827ae1957544a254406d6c557"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90de61a5a3c15d145ffc6403426befd3" id="r_a90de61a5a3c15d145ffc6403426befd3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8h.html#a90de61a5a3c15d145ffc6403426befd3">RetVal</a>&#160;&#160;&#160;int64_t</td></tr>
<tr class="memdesc:a90de61a5a3c15d145ffc6403426befd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the type of the return value that most operations in the provided benchmarks return. For instance, the return values of all pop and dequeue operations (implemented by the provided stacks and queue objects) return a value of type RetVal. It is assumed that the target architecture is able to atomically read/write this type If this type is of 32 or 64 bits could be atomically read or written by most machine architectures. However, a value of 128 bits or more may not be supported (in most cases x86_64 supports types of 128 bits). By default, this definition is equal to int64_t.  <br /></td></tr>
<tr class="separator:a90de61a5a3c15d145ffc6403426befd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f12dac6e24575ca239f5605e28661ff" id="r_a0f12dac6e24575ca239f5605e28661ff"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8h.html#a0f12dac6e24575ca239f5605e28661ff">ArgVal</a>&#160;&#160;&#160;int64_t</td></tr>
<tr class="memdesc:a0f12dac6e24575ca239f5605e28661ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the type of the argument value of atomic operations provided by the implemented concurrent objects. For example, all push and enqueue operations (implemented by the provided stacks and queue objects) get an argument of type ArgVal. It is assumed that the target architecture is able to atomically read/write this type. If this type is of 32 or 64 bits could be atomically read or written by most machine architectures. However, a value of 128 bits or more may not be supported (in most cases x86_64 supports types of 128 bits). By default, this definition is equal to int64_t.  <br /></td></tr>
<tr class="separator:a0f12dac6e24575ca239f5605e28661ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c44d43fcba9871ff62fb274c6b376f8" id="r_a7c44d43fcba9871ff62fb274c6b376f8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8h.html#a7c44d43fcba9871ff62fb274c6b376f8">SYNCH_NUMA_SUPPORT</a></td></tr>
<tr class="memdesc:a7c44d43fcba9871ff62fb274c6b376f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whenever the <code>SYNCH_NUMA_SUPPORT</code> option is enabled, the runtime will detect the system's number of NUMA nodes and will setup the environment appropriately. However, significant performance benefits have been observed by manually setting-up the number of NUMA nodes manually (see the <code>--numa_nodes</code> option). For example, the performance of the H-Synch family algorithms on an AMD EPYC machine consisting of 2x EPYC 7501 processors (i.e., 128 hardware threads) is much better by setting <code>--numa_nodes</code> equal to <code>2</code>. Note that the runtime successfully reports that the available NUMA nodes are <code>8</code>, but this value is not optimal for H-Synch in this configuration. An experimental analysis for different values of <code>--numa_nodes</code> may be needed.  <br /></td></tr>
<tr class="separator:a7c44d43fcba9871ff62fb274c6b376f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb0618905bd57c9a600e37b1d17c4b3a" id="r_afb0618905bd57c9a600e37b1d17c4b3a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8h.html#afb0618905bd57c9a600e37b1d17c4b3a">SYNCH_COMPACT_ALLOCATION</a></td></tr>
<tr class="memdesc:afb0618905bd57c9a600e37b1d17c4b3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This definition enables some optimizations on memory allocation that seems to greatly improve the performance on AMD Epyc multiprocessors. This flag seems to double the performance in CC-Synch and H-Synch algorithms. In contrast to AMD processors, this option introduces serious performance overheads in Intel Xeon processors. Thus, a careful experimental analysis is needed in order to show the possible benefits of this option. By default, this flag is enabled.  <br /></td></tr>
<tr class="separator:afb0618905bd57c9a600e37b1d17c4b3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file provides important parameters and constants for the benchmarks and the library. </p>
<dl class="section author"><dt>Author</dt><dd>Nikolaos D. Kallimanis (<a href="#" onclick="location.href='mai'+'lto:'+'nka'+'ll'+'ima'+'@g'+'mai'+'l.'+'com'; return false;">nkall<span class="obfuscator">.nosp@m.</span>ima@<span class="obfuscator">.nosp@m.</span>gmail<span class="obfuscator">.nosp@m.</span>.com</a>) </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a146443f3f1bbeaf5b7c4a57cc55967f3" name="a146443f3f1bbeaf5b7c4a57cc55967f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a146443f3f1bbeaf5b7c4a57cc55967f3">&#9670;&#160;</a></span>SYNCH_MAX_WORK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SYNCH_MAX_WORK&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the default value of maximum local work that each thread executes between two consecutive of the benchmarked operation. A zero value means there is no work between two consecutive calls. Large values usually reduce system's contention, i.e. threads perform operations less frequently. In contrast, small values (but not zero) increase system's contention. Please avoid to set this value equal to zero, since some algorithms may produce unrealistically high performance (i.e. long runs and unrealistic low numbers of cache misses). Default value is 64. </p>

</div>
</div>
<a id="adeda151d3554f5dfd7089119511e946c" name="adeda151d3554f5dfd7089119511e946c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adeda151d3554f5dfd7089119511e946c">&#9670;&#160;</a></span>SYNCH_RUNS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SYNCH_RUNS&#160;&#160;&#160;1000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the default total number of the executed operations. Notice that benchmarks for stacks and queues execute SYNCH_RUNS pairs of operations (i.e. pairs of push/pops or pairs of enqueues/dequeues). Default value is 1000000. </p>

</div>
</div>
<a id="a9857328827ae1957544a254406d6c557" name="a9857328827ae1957544a254406d6c557"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9857328827ae1957544a254406d6c557">&#9670;&#160;</a></span>Object</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Object&#160;&#160;&#160;int64_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define DEBUG, in case you want to debug some parts of the code or to get some useful performance statistics. Note that the validation.sh script enables this definition by default. In some cases, this may introduces some performance loses. Thus, in case you want to perform benchmarking keeps this undefined. By default, this flag is disabled. </p>
<p>This definition disables backoff in all algorithms that are using it for reducing system's contention. By default, this flag is disabled. </p>

</div>
</div>
<a id="a90de61a5a3c15d145ffc6403426befd3" name="a90de61a5a3c15d145ffc6403426befd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90de61a5a3c15d145ffc6403426befd3">&#9670;&#160;</a></span>RetVal</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RetVal&#160;&#160;&#160;int64_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the type of the return value that most operations in the provided benchmarks return. For instance, the return values of all pop and dequeue operations (implemented by the provided stacks and queue objects) return a value of type RetVal. It is assumed that the target architecture is able to atomically read/write this type If this type is of 32 or 64 bits could be atomically read or written by most machine architectures. However, a value of 128 bits or more may not be supported (in most cases x86_64 supports types of 128 bits). By default, this definition is equal to int64_t. </p>

</div>
</div>
<a id="a0f12dac6e24575ca239f5605e28661ff" name="a0f12dac6e24575ca239f5605e28661ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f12dac6e24575ca239f5605e28661ff">&#9670;&#160;</a></span>ArgVal</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ArgVal&#160;&#160;&#160;int64_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the type of the argument value of atomic operations provided by the implemented concurrent objects. For example, all push and enqueue operations (implemented by the provided stacks and queue objects) get an argument of type ArgVal. It is assumed that the target architecture is able to atomically read/write this type. If this type is of 32 or 64 bits could be atomically read or written by most machine architectures. However, a value of 128 bits or more may not be supported (in most cases x86_64 supports types of 128 bits). By default, this definition is equal to int64_t. </p>

</div>
</div>
<a id="a7c44d43fcba9871ff62fb274c6b376f8" name="a7c44d43fcba9871ff62fb274c6b376f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c44d43fcba9871ff62fb274c6b376f8">&#9670;&#160;</a></span>SYNCH_NUMA_SUPPORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SYNCH_NUMA_SUPPORT</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whenever the <code>SYNCH_NUMA_SUPPORT</code> option is enabled, the runtime will detect the system's number of NUMA nodes and will setup the environment appropriately. However, significant performance benefits have been observed by manually setting-up the number of NUMA nodes manually (see the <code>--numa_nodes</code> option). For example, the performance of the H-Synch family algorithms on an AMD EPYC machine consisting of 2x EPYC 7501 processors (i.e., 128 hardware threads) is much better by setting <code>--numa_nodes</code> equal to <code>2</code>. Note that the runtime successfully reports that the available NUMA nodes are <code>8</code>, but this value is not optimal for H-Synch in this configuration. An experimental analysis for different values of <code>--numa_nodes</code> may be needed. </p>

</div>
</div>
<a id="afb0618905bd57c9a600e37b1d17c4b3a" name="afb0618905bd57c9a600e37b1d17c4b3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb0618905bd57c9a600e37b1d17c4b3a">&#9670;&#160;</a></span>SYNCH_COMPACT_ALLOCATION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SYNCH_COMPACT_ALLOCATION</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This definition enables some optimizations on memory allocation that seems to greatly improve the performance on AMD Epyc multiprocessors. This flag seems to double the performance in CC-Synch and H-Synch algorithms. In contrast to AMD processors, this option introduces serious performance overheads in Intel Xeon processors. Thus, a careful experimental analysis is needed in order to show the possible benefits of this option. By default, this flag is enabled. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
